<%# Build The Content Heading %>
<% if (title) { %>
  <h1><%= title %></h1>
<% } else {
  res.redirect('/')
} %>
    
<%# Show A Message Block %>
<%- messages() %>
    
<%# Errors Display %>
<% if (errors) { %>
  <ul class="notice">
  <% errors.array().forEach(error => { %>
    <li><%= error.msg %></li>
    <% }) %>
  </ul>
<% } %>

<%# Build The Edit Inventory Form %>
<form id="editInvForm" action="/inv/update" method="post">
  <label for="classificationList">Classification:</label>
  <%- classificationList %><br>
  <label for="inv_make">Make:</label>
  <input
    type="text"
    id="inv_make"
    name="inv_make"
    value="<%= locals.inv_make %>"
    required><br>
  <label for="inv_model">Model:</label>
  <input
    type="text"
    id="inv_model"
    name="inv_model"
    value="<%= locals.inv_model %>"
    required><br>
  <label for="inv_year">Year:</label>
  <input
    type="number"
    id="inv_year"
    name="inv_year"
    min="1886"
    max=<%= new Date().getFullYear() %>
    value="<%= locals.inv_year %>"
    required>
  <div>
    The year must be between 1886 and <%= new Date().getFullYear() %>.
  </div><br>
  <label for="inv_description">Description:</label>
  <textarea
    id="inv_description"
    name="inv_description"
    required><%= locals.inv_description %></textarea><br>
  <label for="inv_image">Image:</label>
  <input
    type="text"
    id="inv_image"
    name="inv_image"
    value="<%= locals.inv_image %>"
    required><br>
  <label for="inv_thumbnail">Thumbnail:</label>
  <input
    type="text"
    id="inv_thumbnail"
    name="inv_thumbnail"
    value="<%= locals.inv_thumbnail %>"
    required><br>
  <label for="inv_price">Price:</label>
  <input
    type="number"
    id="inv_price"
    name="inv_price"
    min="0"
    max="999999999"
    value="<%= locals.inv_price %>"
    required>
  <div>
    Must be a positive value, no more than 9 digits and without any decimals.
  </div><br>
  <label for="inv_miles">Miles:</label>
  <input
    type="number"
    id="inv_miles"
    name="inv_miles"
    min="0"
    value="<%= locals.inv_miles %>"
    required>
  <div>
    Must be a positive value without any decimals.
  </div><br>
  <label for="inv_color">Color:</label>
  <input
    type="text"
    id="inv_color"
    name="inv_color"
    value="<%= locals.inv_color %>"
    required><br>
  <input type="submit" id="submitButton" value="UPDATE VEHICLE" hidden>
  <input type="hidden" name="inv_id"
  <% if(locals.inv_id) {%> value="<%= locals.inv_id %>"
  <% } %>>
</form>

<script src="../../js/inv-update.js"></script>
